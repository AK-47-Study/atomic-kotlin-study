# Chapter5

## π”Β μΈν„°νμ΄μ¤

- `μΈν„°νμ΄μ¤`λ” `ν΄λμ¤`κ°€ λ¬΄μ—‡μ„ ν•λ”μ§€λ” κΈ°μ ν•μ§€λ§, μ–΄λ–»κ² ν•λ”μ§€λ” κΈ°μ ν•μ§€ μ•λ”λ‹¤.
- `μΈν„°νμ΄μ¤`λ” μΌλ°μ μΌλ΅ κµ¬ν„μ€ ν¬ν•¨ν•μ§€ μ•λ”λ‹¤.
- `μΈν„°νμ΄μ¤`λ” μ΅΄μ¬μ λ©ν‘λ‚ μ„λ¬΄λ¥Ό κΈ°μ ν•κ³ , `ν΄λμ¤`λ” μ„Έλ¶€μ μΈ κµ¬ν„ μ‚¬ν•­μ„ ν¬ν•¨ν•λ‹¤.
- `μΈν„°νμ΄μ¤`λ” `class` ν‚¤μ›λ“ λ€μ‹  `interface ν‚¤μ›λ“`λ¥Ό μ‚¬μ©ν•΄ μ •μν•λ‹¤.
    - `μΈν„°νμ΄μ¤`λ¥Ό κµ¬ν„ν• ν΄λμ¤λ¥Ό μ •μν•λ ¤λ©΄, ν΄λμ¤ μ΄λ¦„ λ’¤μ— `μ½λ΅ (:)`κ³Ό `μΈν„°νμ΄μ¤ μ΄λ¦„`μ„ λ„£μ–΄μ£Όλ©΄ λλ‹¤.

```kotlin
interface Computer {
  // ν•¨μλ¥Ό μ„ μ–Έν•μ§€λ§, μ•„λ¬΄ κµ¬ν„λ„ μ κ³µν•μ§€ μ•λ”λ‹¤.
  fun prompt(): String
  fun calculateAnswer(): Int
}

class Desktop: Computer {
  // μΈν„°νμ΄μ¤ λ©¤λ²„λ¥Ό κµ¬ν„ν•  λ•λ” override λ³€κ²½μλ¥Ό λ¶™μ—¬μ•Ό ν•λ‹¤.
  override fun prompt() = "Hello!"
  override fun calculateAnswer() = 11
}
```

- `μΈν„°νμ΄μ¤`λ” ν•¨μλ¥Ό μ„ μ–Έν•μ§€λ§, `μ•„λ¬΄ κµ¬ν„`λ„ μ κ³µν•μ§€ μ•λ”λ‹¤.
    - `μΈν„°νμ΄μ¤`λ¥Ό κµ¬ν„ν•λ” `ν΄λμ¤(κµ¬ν„μ²΄)`κ°€ κµ¬ν„ν•λ” λ³Έλ¬Έμ„ μ κ³µν•΄μ•Ό ν•λ‹¤.

```kotlin
interface Player {
  // μΈν„°νμ΄μ¤κ°€ ν”„λ΅νΌν‹°λ¥Ό μ„ μ–Έν•  μλ„ μλ‹¤.
  val symbol: Char
}

class Food : Player {
  // ν”„λ΅νΌν‹°λ¥Ό μ„ μ–Έν• μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” ν΄λμ¤λ” ν•­μƒ ν”„λ΅νΌν‹°λ¥Ό μ¤λ²„λΌμ΄λ“ν•΄μ•Ό ν•λ‹¤.
  override val symbol = '.'
}

class Robot : Player {
  // κ°’μ„ λ°ν™ν•λ” Custom Getterλ¥Ό μ‚¬μ©ν•΄ ν”„λ΅νΌν‹°λ¥Ό μ¤λ²„λΌμ΄λ“ ν•λ‹¤. 
  override val symbol get() = 'R'
}

// μƒμ„±μ μΈμ λ©λ΅μ—μ„ symbolμ„ μ¤λ²„λΌμ΄λ“ ν•  μ μλ‹¤.
class Wall(override val symbol: Char) : Player
```

- `Enum`λ„ `μΈν„°νμ΄μ¤`λ¥Ό κµ¬ν„ν•  μ μλ‹¤.

```kotlin
interface Hotness {
  fun feedback(): String
}

enum class SpiceLevel : Hotness {
  // κ° Enum μ›μ†λ“¤μ λ³Έλ¬Έμ—μ„ feedback() ν•¨μλ¥Ό μ¤λ²„λΌμ΄λ“ ν•λ©΄ λλ‹¤.
  Mild {
    override fun feedback() = "It adds flavor!"
  },
  Medium {
    override fun feedback() = "Is it warm in here?"
  }
}
```

- `λ‹¨μΌ μ¶”μƒ λ©”μ„λ“(Single Abstract Method, SAM)` μΈν„°νμ΄μ¤λ” ν•λ‚μ `μ¶”μƒ ν•¨μ`λ§μ„ κ°€μ§€λ” νΉλ³„ν• μΈν„°νμ΄μ¤μ΄λ‹¤.

```kotlin
// SAM μΈν„°νμ΄μ¤λ” fun interface ν‚¤μ›λ“λ¥Ό μ΄μ©ν•΄ μ •μν•λ‹¤.
fun interface ZeroArg {
  fun f(): Int
}

fun interface OneArg {
  fun g(n: Int): Int
}

// ν΄λμ¤κ°€ SAM μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•  μ μλ‹¤.
class VerboseZero : ZeroArg {
  override fun f() = 11
}

// λλ‹¤λ¥Ό μ‚¬μ©ν•΄μ„ κµ¬ν„ν•  μ μλ‹¤. μ΄λ° κ²½μ°λ¥Ό SAM λ³€ν™μ΄λΌκ³  ν•λ‹¤.
val samZero = ZeroArg { 11 }
```

- `SAM μΈν„°νμ΄μ¤`λ” `fun interface` ν‚¤μ›λ“λ¥Ό μ΄μ©ν•΄ μ •μν•λ‹¤.
    - `κµ¬ν„ λ°©λ²•`μ—λ” ν΄λμ¤κ°€ `μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„`ν•λ” κ²ƒκ³Ό, `λλ‹¤λ¥Ό μ‚¬μ©`ν•λ” λ°©λ²•μ΄ μλ‹¤.
        - `λλ‹¤`λ¥Ό μ‚¬μ©ν•λ” κ²½μ°μ—λ” `SAM λ³€ν™(SAM conversion)`μ΄λΌκ³  λ¶€λ¥Έλ‹¤.
        - `λλ‹¤`λ¥Ό μ‚¬μ©ν•λ©΄ ν• κ°μ²΄λ¥Ό λ§λ“¤κΈ° μ„ν•΄ `ν΄λμ¤λ¥Ό μ–µμ§€λ΅ μ •μ`ν•  ν•„μ”κ°€ μ—†λ‹¤λ” `μ¥μ `μ΄ μλ‹¤.
    - `SAM μΈν„°νμ΄μ¤`κ°€ ν•„μ”ν• λ©”μ„λ“μ— μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” `κµ¬ν„μ²΄ λ€μ‹ μ— λλ‹¤`λ¥Ό λ°”λ΅ μ „λ‹¬ν•  μ μλ‹¤.
    

## π†Β λ³µμ΅ν• μƒμ„±μ

- `μƒμ„±μ`λ” μƒ κ°μ²΄λ¥Ό λ§λ“λ” `νΉλ³„ν• ν•¨μ`μ΄λ‹¤.
- `κ°μ²΄ μƒμ„± κ³Όμ •`μ„ μΆ€ λ” μ μ–΄ν•κ³  μ‹¶λ‹¤λ©΄, ν΄λμ¤ λ³Έλ¬Έμ— `μƒμ„±μ μ½”λ“`λ¥Ό `μ¶”κ°€`ν•  μ μλ‹¤.

```kotlin
private var counter = 0

class Message(text: String) {
  private val content: String
  
  // init λΈ”λ΅μ€ κ°μ²΄ μƒμ„± μ¤‘μ— μ‹¤ν–‰λλ‹¤.
  init {
    counter += 10
    content = "[$counter] $text"
  }
  
  // init λΈ”λ΅μ΄ μ—¬λ¬κ°λΌλ©΄ ν΄λμ¤ λ³Έλ¬Έμ— μ •μλ μμ„λ€λ΅ μ‹¤ν–‰λλ‹¤.
  init {}
  init {} ...
}
```

- `μƒμ„±μ`λ” `μƒμ„±μ νλΌλ―Έν„° λ©λ΅`κ³Ό `init λΈ”λ΅`μ„ ν•©μΉ κ²ƒκ³Ό κ°™λ‹¤.
- `init λΈ”λ΅`μ„ μ—¬λΏ μ •μν•  μ μκ³ , κ° init λΈ”λ΅λ“¤μ€ `ν΄λμ¤ λ³Έλ¬Έμ— μ •μλ μμ„λ€λ΅ μ‹¤ν–‰`λλ‹¤.
    - ν¬κ³  λ³µμ΅ν• ν΄λμ¤μ—μ„ `init λΈ”λ΅`μ„ μ—¬κΈ°μ €κΈ° λ¶„μ‚°μ‹ν‚¤λ©΄ `μ μ§€ λ³΄μ λ¬Έμ `λ¥Ό `μ•ΌκΈ°`ν•  μ μλ‹¤.

## π¤“Β λ¶€μƒμ„±μ

- κ°™μ€ ν΄λμ¤μ— μ†ν• `κ°μ²΄λ¥Ό λ§λ“¤μ–΄λ‚΄λ” λ°©λ²•`μ„ `μ—¬λ¬κ°€μ§€` μ›ν•  κ²½μ°, μƒμ„±μλ¥Ό `μ¤λ²„λ΅λ“` ν•΄μ•Ό ν•λ‹¤.
- `μƒμ„±μ νλΌλ―Έν„° λ©λ΅`κ³Ό `ν”„λ΅νΌν‹° μ΄κΈ°ν™”`, `init λΈ”λ΅`λ“¤μ„ λ¨λ‘ ν•©ν• μƒμ„±μλ” `μ£Όμƒμ„±μ`λΌκ³  λ¶€λ¥Έλ‹¤.
- `λ¶€μƒμ„±μ`λ” λ°λ“μ‹ `this ν‚¤μ›λ“`λ¥Ό ν†µν•΄μ„ `μ£Όμƒμ„±μ`λ‚ λ‹¤λ¥Έ `λ¶€μƒμ„±μ`λ¥Ό `νΈμ¶`ν•΄μ•Όν•λ‹¤.

```kotlin
class WithSecondary(i: Int) {
  init {
    trace("Primary: $i")
  }
  
  // λ¶€μƒμ„±μκ°€ μ£Ό μƒμ„±μλ¥Ό νΈμ¶
  constructor(c: Char) : this(c - 'A') {
    trace("Secondary: '$c'")
  }
  
  // λ¶€μƒμ„±μκ°€ λ‹¬λ λ¶€μƒμ„±μλ¥Ό νΈμ¶
  constructor(s: String) : this(s.first()) {}

  // μ—λ¬! -> μ£Όμƒμ„±μλ¥Ό νΈμ¶ν•μ§€ μ•μΌλ©΄ μ»΄νμΌμ΄ μ•λλ‹¤.
  constructor(f: Float) {}
}
```

- `λ¶€μƒμ„±μ`μ—μ„ λ‹¤λ¥Έ μƒμ„±μλ¥Ό νΈμ¶ν•λ” λ¶€λ¶„μ€ `μƒμ„±μ λ΅μ§ μ•μ— μ„μΉ`ν•΄μ•Ό ν•λ‹¤.
- `μ£Όμƒμ„±μ`λ” μ–Έμ λ‚ `λ¶€μƒμ„±μ`μ— μν•΄ μ§μ ‘ νΈμ¶λκ±°λ‚, λ‹¤λ¥Έ `λ¶€μƒμ„±μ νΈμ¶`μ„ ν†µν•΄ κ°„μ ‘μ μΌλ΅ νΈμ¶λμ–΄μ•Ό ν•λ‹¤.
    - `μƒμ„±μ` μ‚¬μ΄μ— κ³µμ λμ–΄μ•Ό ν•λ” λ¨λ“  `μ΄κΈ°ν™” λ΅μ§`μ€ λ°λ“μ‹ `μ£Όμƒμ„±μμ— μ„μΉ`ν•΄μ•Ό ν•λ‹¤.
- λ¶€μƒμ„±μλ¥Ό μ“Έ λ• `init λΈ”λ΅`μ„ κΌ­ μ“Έ ν•„μ”λ” μ—†λ‹¤.

## π―Β μƒμ†

- `μƒμ†`μ€ `κΈ°μ΅΄ ν΄λμ¤`λ¥Ό `μ¬μ‚¬μ©`ν•λ©΄μ„ λ³€κ²½ν•΄ `μƒλ΅μ΄ ν΄λμ¤`λ¥Ό λ§λ“λ” λ©”μ»¤λ‹μ¦μ΄λ‹¤.
- `νΉμ • ν΄λμ¤`λ¥Ό λ‹®μ•μ§€λ§ μΌλ¶€ μ°¨μ΄κ°€ μλ” `μƒ ν΄λμ¤`κ°€ ν•„μ”ν•λ‹¤λ©΄ `μƒμ†`μ„ μ΄μ©ν•  μ μλ‹¤.

```kotlin
// μƒμ† κµ¬λ¬Έμ€ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” κµ¬λ¬Έκ³Ό λΉ„μ·ν•λ‹¤. μ½λ΅ (:)λ’¤μ— μƒμ†ν•  ν΄λμ¤μ μƒμ„±μλ¥Ό νΈμ¶ν•λ©΄ λλ‹¤.
open class Base

class Derived : Base()
```

- `κΈ°λ° ν΄λμ¤(Super Class)`λ” `open` μ΄μ–΄μ•Ό ν•λ‹¤. `open`μΌλ΅ μ§€μ •λμ§€ μ•μ€ ν΄λμ¤λ” μƒμ†μ΄ ν—μ©λμ§€ μ•λ”λ‹¤.
    - `Kotlin`μ€ `open ν‚¤μ›λ“`λ¥Ό λ¶™μ΄μ§€ μ•μΌλ©΄ κΈ°λ³Έμ μΌλ΅ `ν΄λμ¤λ” final` μ΄λ‹¤.
- `Kotlin`μ—μ„ `open ν‚¤μ›λ“`λ¥Ό μ‚¬μ©ν•λ©΄, ν•΄λ‹Ή ν΄λμ¤κ°€ `μƒμ†μ„ κ³ λ ¤ν•΄ μ„¤κ³„`λλ‹¤λ” μ‚¬μ‹¤μ„ `λ…μ‹μ μΌλ΅ μ„ μ–Έ`ν• κ²ƒμ΄κΈ°λ„ ν•λ‹¤.

```kotlin
open class Animal {
  open fun bark() = println("Animal!")
  fun run() = "Run!!"
}

class Dog : Animal() {
  // openμΈ ν•¨μλ” μ¤λ²„λΌμ΄λ“ ν•  μ μλ‹¤.
  override fun bark() = println("Wal!!")
  
  // error -> openμ΄ μ•„λ‹ ν•¨μλ” κΈ°λ³Έμ μΌλ΅ final μ΄κΈ° λ•λ¬Έμ—, μ¤λ²„λΌμ΄λ“κ°€ λ¶κ°€λ¥ν•λ‹¤.
  override fun run() = "Run!!!!!!!!"
}

fun letsBark(animal: Animal) = animal.bark()

fun main() {
  letsBark(Animal()) // -> Animal!
  letsBark(Dog()) // -> Wal!!
}
```

- ν•¨μλ„ `open`μ΄ μ•„λ‹λΌλ©΄ `μ¤λ²„λΌμ΄λ“` ν•  μ μ—†λ‹¤.
- `ν•¨μ`λ¥Ό `μ¤λ²„λΌμ΄λ“` ν•λ©΄, κ° νƒ€μ…μ— λ”°λΌμ„ `λ‹¤λ¥Έ λ™μ‘`μ„ `μν–‰`ν•λ‹¤.
- `μ¤λ²„λΌμ΄λ“ λ ν•¨μ`κ°€ μ•„λ‹ `κΈ°λ° ν΄λμ¤`μ ν•¨μλ¥Ό `νΈμ¶`ν•κ³  μ‹¶λ‹¤λ©΄, `super ν‚¤μ›λ“`λ¥Ό μ΄μ©ν•  μ μλ‹¤.

## π²Β κΈ°λ° ν΄λμ¤ μ΄κΈ°ν™”

- `ν΄λμ¤`κ°€ `λ‹¤λ¥Έ ν΄λμ¤`λ¥Ό `μƒμ†`ν•  λ•, λ‘ ν΄λμ¤κ°€ λ¨λ‘ μ λ€λ΅ μ΄κΈ°ν™”λλ„λ΅ `μ•„λμ μƒμ„±μλ“¤`μ΄ μ •μƒμ μΌλ΅ νΈμ¶ λμ–΄μ•Ό ν•λ‹¤.
    - `λ©¤λ²„ κ°μ²΄λ“¤`μ μƒμ„±μ
    - `νμƒ ν΄λμ¤μ— μ¶”κ°€λ κ°μ²΄`μ μƒμ„±μ
    - `κΈ°λ° ν΄λμ¤`μ μƒμ„±μ

```kotlin
open class GreatApe(
  val weight: Double,
  val age: Int
)

// κΈ°λ° ν΄λμ¤μ— μƒμ„±μ νλΌλ―Έν„°κ°€ μλ‹¤λ©΄, κΈ°λ° ν΄λμ¤μ μƒμ„±μ μΈμλ¥Ό μ κ³µν•΄μ•Ό ν•λ‹¤.
open class Bonobo(weight: Double, age: Int) : 
  GreatApe(weight, age)
```

- `Kotlin`μ€ `κ°μ²΄`λ¥Ό `μƒμ„±`ν•  λ•, μ‚¬μ©ν•  `λ©”λ¨λ¦¬λ¥Ό ν™•λ³΄`ν• ν›„ `κΈ°λ° ν΄λμ¤μ μƒμ„±μ` β†’ λ‹¤μ λ² νμƒ ν΄λμ¤μ μƒμ„±μ μμΌλ΅ νΈμ¶ν•λ©°, λ§¨ λ§μ§€λ§‰μ— `νμƒλ ν΄λμ¤μ μƒμ„±μ`λ¥Ό νΈμ¶ν•λ‹¤.

```kotlin
open class SuperClass2

// κΈ°λ° ν΄λμ¤ μƒμ„±μ νλΌλ―Έν„°κ°€ μ—†μ–΄λ„, κΈ°λ° ν΄λμ¤ μ΄λ¦„ λ’¤μ— κ΄„νΈλ¥Ό λ¶™μ΄λ„λ΅ κ°•μ ν•λ‹¤.
class SubClass2 : SuperClass2()
```

- `Kotlin`μ€ κΈ°λ° ν΄λμ¤μ μƒμ„±μλ¥Ό μΈμ μ—†μ΄ νΈμ¶ν•κΈ° μ„ν•΄ κΈ°λ° ν΄λμ¤ μ΄λ¦„ λ’¤μ— κ΄„νΈλ¥Ό λ¶™μ΄λ„λ΅ κ°•μ ν•λ‹¤.
- `κΈ°λ° ν΄λμ¤`μ— `λ¶€μƒμ„±μ`κ°€ μμΌλ©΄, κΈ°λ° ν΄λμ¤μ `μ£Όμƒμ„±μ` λ€μ‹  `λ¶€μƒμ„±μ`λ¥Ό `νΈμ¶`ν•  μ μλ‹¤.

```kotlin
open class Base(val i: Int)

class Derived : Base {
  // νμƒ ν΄λμ¤μ λ¶€μƒμ„±μλ” κΈ°λ° ν΄λμ¤μ μƒμ„±μλ¥Ό νΈμ¶ν•λ‹¤.
  constructor(i: Int) : super(i)
  // νμƒ ν΄λμ¤ μμ‹ μ μƒμ„±μλ¥Ό νΈμ¶ ν• μλ„ μλ‹¤.
  constructor() : this(9)
}
```

- `νμƒ ν΄λμ¤`μ `λ¶€μƒμ„±μ`λ” κΈ°λ° ν΄λμ¤μ μƒμ„±μλ¥Ό νΈμ¶ν•  μλ„ μκ³ , `νμƒ ν΄λμ¤` μμ‹ μ μƒμ„±μλ¥Ό νΈμ¶ν•  μλ„ μλ‹¤.

## π¤©Β μ¶”μƒ ν΄λμ¤

- `μ¶”μƒ ν΄λμ¤`λ” ν•λ‚ μ΄μƒμ ν”„λ΅νΌν‹°λ‚ ν•¨μκ°€ `λ¶μ™„μ „`ν•λ‹¤λ” μ μ—μ„ μΌλ° ν΄λμ¤μ™€ λ‹¤λ¥΄λ‹¤.
- `ν΄λμ¤ λ©¤λ²„`μ—μ„ λ³Έλ¬Έμ΄λ‚ μ΄κΈ°ν™”λ¥Ό μ κ±°ν•λ ¤λ©΄ `abstract λ³€κ²½μ`λ¥Ό `λ©¤λ²„ μ•`μ— λ¶™μ΄λ©΄ λλ‹¤.

```kotlin
abstract class WithProperty {
  // μ΄κΈ°ν™” μ½”λ“κ°€ μ—†μΌλ©΄ νƒ€μ… μ¶”λ΅ μ΄ λ¶κ°€λ¥ν•λ―€λ΅, abstract μ°Έμ΅°μ—λ” λ°λ“μ‹ νƒ€μ…μ„ μ§€μ •ν•΄μ•Ό ν•λ‹¤.
  abstract val x: Int
}

abstract class WithFunctions {
  abstract fun f(): Int
  // abstract ν•¨μμ λ°ν™ νƒ€μ…μ„ μ μ§€ μ•μΌλ©΄ UnitμΌλ΅ κ°„μ£Όλλ‹¤.
  abstract fun g(n: Double)
}
```

```kotlin
interface Redundant {
  // interfaceμ—μ„ ν•¨μλ‚ ν”„λ΅νΌν‹° μ •μκ°€ μμΌλ©΄ κΈ°λ³Έμ μΌλ΅ μ¶”μƒ λ©¤λ²„μ΄λ‹¤.
  abstract val x: Int
  abstract fun f(): Int
}

interface IntList {
  val name: String

  // error! -> μ»΄νμΌ λμ§€ μ•λ”λ‹¤(μΈν„°νμ΄μ¤ μ•μ—μ„ ν”„λ΅νΌν‹°μ— κ°’μ„ μ €μ¥ν•  μ μ—†μ)
  val list = listOf(0)
}
```

- `μΈν„°νμ΄μ¤`μ—μ„ `abstract λ³€κ²½μ`λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ€ `λ¶ν•„μ”ν• μ¤‘λ³µ`μ΄λ―€λ΅ μƒλµμ΄ κ°€λ¥ν•λ‹¤.
- `μ¶”μƒ ν΄λμ¤`λ” μƒνƒλ¥Ό κ°€μ§ μ μμ§€λ§, `μΈν„°νμ΄μ¤`λ” μƒνƒλ¥Ό κ°€μ§€μ§€ μ•λ”λ‹¤.
    - `μ¶”μƒ ν΄λμ¤`λ” ν”„λ΅νΌν‹° μ•μ— λ°μ΄ν„°λ¥Ό μ €μ¥ν•  μ μλ‹¤.
    - `μΈν„°νμ΄μ¤`λ” ν”„λ΅νΌν‹° μ„ μ–Έμ€ κ°€λ¥ν•μ§€λ§, `κ°’μ„ μ €μ¥`ν•λ” κ²ƒμ€ `κΈμ§€`λμ–΄ μλ‹¤.

```kotlin
interface PropertyAccessor {
  val a: Int
    // λ‚΄λ¶€μ— μ •μλ ν”„λ΅νΌν‹°κ°€ μƒνƒλ¥Ό λ°”κΏ€ μ μ—†λ” κ²½μ°μ—λ” Custom Getterλ¥Ό ν¬ν•¨ν•  μ μλ‹¤.
    get() = 11
}
```

- `μΈν„°νμ΄μ¤`λ„ λ‚΄λ¶€μ— μ •μλ `ν”„λ΅νΌν‹°`κ°€ μƒνƒλ¥Ό λ°”κΏ€ μ μ—†λ” κ²½μ°μ—λ” `ν”„λ΅νΌν‹°μ Custom Getter`λ” ν¬ν•¨ν•  μ μλ‹¤.

```kotlin
open class Animal
open class Mammal

// κΈ°λ° ν΄λμ¤κ°€ λ‘ μ΄μƒμ΄λ©΄ μ—λ¬! -> ν• ν΄λμ¤λ” ν•λ‚μ κΈ°λ° ν΄λμ¤λ§ μƒμ† κ°€λ¥
class Dolphin : Mammal(), Animal()

interface Animal
interface Mammal

// μΈν„°νμ΄μ¤λ” λ‹¤μ¤‘ κµ¬ν„(μƒμ†)μ΄ κ°€λ¥ν•λ‹¤.
class Dolphin : Animal, Mammal
```

- `ν΄λμ¤`λ” ν•λ‚μ κΈ°λ° ν΄λμ¤λ§ μƒμ† κ°€λ¥ν•μ§€λ§, `μΈν„°νμ΄μ¤`λ” `λ‹¤μ¤‘ κµ¬ν„`μ΄ κ°€λ¥ν•λ‹¤.

```kotlin
interface A {
  fun f() = 1
}

interface B {
  fun f() = 2
}

class C : A, B {
  /*
  * κµ¬ν„ν• μΈν„°νμ΄μ¤λ“¤μ ν•¨μμ μ‹κ·Έλ‹μ²κ°€ λ™μΌν• κ²½μ° κΈ°λ° ν΄λμ¤μ ν•¨μλ¥Ό νΈμ¶ν•λ ¤λ©΄, 
  * super<ClassName>μΌλ΅ μ΄λ¦„μ„ μ§€μ •ν•΄μ•Ό ν•λ‹¤.
  * -> A, B μΈν„°νμ΄μ¤ λ¨λ‘ f() ν•¨μλ¥Ό κ°€μ§€κ³  μμ§€λ§, μΈν„°νμ΄μ¤ Aμ f() ν•¨μλ¥Ό νΈμ¶
  */
  override fun f() = super<A>.f()
}
```

## π„Β μ—…μΊμ¤νΈ

- `κ°μ²΄ μ°Έμ΅°`λ¥Ό λ°›μ•„μ„ κ·Έ κ°μ²΄μ `κΈ°λ° νƒ€μ…μ— λ€ν• μ°Έμ΅°μ²λΌ μ·¨κΈ‰`ν•λ” κ²ƒμ„ `μ—…μΊμ¤νΈ`ν•λ‹¤ λΌκ³  λ§ν•λ‹¤.

```kotlin
interface Animal {
  fun walk(): String
}

class Dog : Animal {
  override fun walk() = "Dog is walking!"
}

class Cat : Animal {
  override fun walk() = "Cat is walking!"
}

fun animalWalk(animal: Animal) = animal.walk()

fun main() {
  println(animalWalk(Dog())) // Dog is walking
  println(animalWalk(Cat())) // Cat is walking
}
```

- `animalWalk()`μ νλΌλ―Έν„°λ” κΈ°λ° ν΄λμ¤μΈ `Animal` μ΄λ―€λ΅, `Cat`κ³Ό `Dog` νƒ€μ… λ¨λ‘ `ν—μ©`λκ³  Animal ν΄λμ¤μ κ°μ²΄μ²λΌ μ·¨κΈ‰λλ‹¤.
    - μ΄λ¥Ό κµ¬μ²΄μ μΈ νƒ€μ…(ν•μ„ ν΄λμ¤)μ΄ κΈ°λ° νƒ€μ…(μƒμ„ ν΄λμ¤)μΌλ΅ `μ—…μΊμ¤νΈ λμ—λ‹¤`κ³  λ§ν•λ‹¤.
    - `μ—…μΊμ¤νΈ`λ¥Ό μ‚¬μ©ν•μ§€ μ•λ”λ°, `μƒμ†μ„ μ‚¬μ©`ν•λ” κ±°μ λ¨λ“  κ²½μ°λ” `μƒμ†μ„ μλ» μ‚¬μ©`ν•λ” κ²ƒμΌ μ μλ‹¤.
    

```kotlin
interface Computer {
  fun on(): Unit
}

class MacBook : Computer {
  override fun on() = "MacBook is on"
  fun showAppleIcon() = "Apple!"
}

fun findComputer(computer: Computer) {
  computer.on() // νΈμ¶ κ°€λ¥
  
  // MacBook μΈμ¤ν„΄μ¤λ¥Ό Computer μΈμ¤ν„΄μ¤λ΅ μ—…μΊμ¤νΈ ν–μΌλ―€λ΅ showAppleIcon()μ€ νΈμ¶ν•  μ μ—†λ‹¤.
  computer.showAppleIcon()
}
```

- `μ—…μΊμ¤νΈ`λ¥Ό ν• κ²½μ°μ—λ” `κΈ°λ° νƒ€μ…`μ— `κ³µν†µμΌλ΅ λ“¤μ–΄ μλ” λ©¤λ²„`λ“¤λ§ `μ‚¬μ©`μ΄ κ°€λ¥ν•κ³ , ν•μ„ νƒ€μ…μ—μ„ μ •μλ λ©¤λ²„λ” μ‚¬μ©ν•  μ μ—†λ‹¤.

## πΒ λ‹¤ν•μ„±

- `λ‹¤ν•μ„±`μ€ ν”„λ΅κ·Έλλ°μ—μ„ κ°μ²΄λ‚ λ©¤λ²„μ μ—¬λ¬ κµ¬ν„μ΄ μλ” κ²½μ°λ¥Ό λ§ν•λ‹¤.

```kotlin
open class Pet {
  open fun speak() = "Pet"
}

class Dog : Pet() {
  override fun speak() = "Bark!"
}

class Cat : Pet() {
  override fun speak() = "Meow!"
}

fun talk(pet: Pet) = pet.speak()

fun main() {
  talk(Dog()) // Bark!
  talk(Cat()) // Meow!
}
```

- `Cat`κ³Ό `Dog`λ” `Pet νƒ€μ…`μΌλ΅ μ—…μΊμ¤νΈ λμ§€λ§, μ¬λ°”λ¥Έ ν•μ„ ν΄λμ¤μ `speak()` ν•¨μκ°€ νΈμ¶λλ‹¤.
    - `λ‹¤ν•μ„±`μ€ λ¶€λ¨ ν΄λμ¤ μ°Έμ΅°κ°€ `μμ‹ ν΄λμ¤μ μΈμ¤ν„΄μ¤`λ¥Ό κ°€λ¦¬ν‚¤λ” κ²½μ° λ°μƒν•λ‹¤.
    - `λ‹¤ν•μ„±`μ€ `λ°νƒ€μ„μ— μΌμ–΄λ‚λ” λ™μ  λ””μ¤ν¨μΉ`λ¥Ό ν†µν•΄ μ–΄λ–¤ `speak()` ν•¨μλ¥Ό νΈμ¶ν•΄μ•Ό ν•λ”μ§€ μ•κ³  μ¬λ°”λ¥Έ ν•μ„ νƒ€μ…μ ν•¨μλ¥Ό νΈμ¶ν•κ² λλ‹¤.
    - `μ‹¤ν–‰ μ‹μ `μ— νƒ€μ…μ„ κ²°μ •ν•λ” `μ¶”κ°€ λ΅μ§`μ΄ μ„±λ¥μ— μ•½κ°„ λ¶€μ •μ μΈ μν–¥μ„ λΌμΉλ‹¤.
    

## πΒ ν•©μ„±

- `κΈ°μ΅΄ ν΄λμ¤`μ κ°μ²΄λ¥Ό `μƒ ν΄λμ¤ μ•μ— μƒμ„±ν•λ” μ ‘κ·Ό λ°©λ²•`μ„ `ν•©μ„±`μ΄λΌκ³  λ¶€λ¥Έλ‹¤.
- `ν•©μ„±`μ„ μ“Έ κ²½μ°μ—λ” `κΈ°λ³Έ μ½”λ“μ κΈ°λ¥`μ„ `μ¬μ‚¬μ©`ν•λ” κ²ƒμ΄λ‹¤.

```kotlin
interface Building
interface Kitchen

interface House: Building {
  val kitchen: Kitchen
}
```

- μ§‘μ€ κ±΄λ¬Ό(λΉλ”©)μ΄κ³  `(is ~ a)`, μ§‘μ€ λ¶€μ—μ„ ν¬ν•¨ν•κ³  μλ‹¤ `(has ~ a)`
    - μ—¬κΈ°μ„ μ• μ μλ” κ²ƒμ€ `μƒμ†` κ΄€κ³„λ” `Aλ” Bμ΄λ‹¤`λ΅ ν‘ν„ κ°€λ¥ν•λ©°, `ν•©μ„±`μ€ `Aλ” Bλ¥Ό ν¬ν•¨ν•κ³  μλ‹¤`λ΅ ν‘ν„ κ°€λ¥ν•΄μ•Ό ν•λ‹¤.
    

```kotlin
class Features {
  fun f1() = "feature1"
  fun f2() = "feature2"
}

class Form {
  private val features = Features()

  fun operation1() = features.f2() + features.f1()
}
```

- `Features` ν΄λμ¤λ” `Form`μ μ—°μ‚°μ— λ€ν• κµ¬ν„μ„ μ κ³µν•κ³  μλ‹¤.
- `Form`μ„ μ‚¬μ©ν•λ” `ν΄λΌμ΄μ–ΈνΈ`λ” featuresμ— μ ‘κ·Όν•  μ μ—†μΌλ―€λ΅, Formμ„ κµ¬ν„ν•λ” λ” λ‚μ€ λ°©λ²•μ„ μ°Ύμ•„λ‚Έλ‹¤λ©΄ `μ–Έμ λ“  μμ λ΅­κ² μ κ±°ν•κ³  κ°μ„ `ν•  μ μλ‹¤λ” `μ¥μ `μ΄ μλ‹¤.
    - ν•λ² `Public API`λ΅ κ³µκ°λ μ½”λ“λ” `λ‹¤μ‹ μμ •`ν•κ±°λ‚ `κ°μ„ ν•  κΈ°ν`μ΅°μ°¨ μƒλ”λ‹¤λ” μ‚¬μ‹¤μ„ μ•λ‹¤λ©΄, ν•©μ„±λ κ°μ²΄λ” `μ¨κ²¨λ‘λ” κ²ƒ`μ΄ μΆ‹μ„ μ μλ‹¤(λ‚΄λ¶€ κµ¬ν„ μ€λ‹‰)
    - `μ‹μ¤ν…`μ— λ”°λΌμ„λ” `λ©¤λ²„ κ°μ²΄λ¥Ό κ³µκ°ν•  λ•` μΈν„°νμ΄μ¤κ°€ λ” `κΉ”λ”`ν•΄μ§€λ” κ²½μ°λ„ μλ‹¤.
- `μƒμ†`λ³΄λ‹¤λ” `ν•©μ„±`μ„ λ¨Όμ € μ‹λ„ν•λ” κ²ƒμ΄ μΆ‹μ€ μ„ νƒμ΄ λ λ•κ°€ λ§λ‹¤.

## π¤”Β μƒμ†κ³Ό ν™•μ¥

- `μƒμ†`μ„ ν—μ©ν•¨μΌλ΅ μΈν•΄μ„, `μ½”λ“`λ¥Ό μ΄ν•΄ν•κ³  `μ μ§€ λ³΄μ`ν•κΈ° μ–΄λ ¤μ›μ§€λ” μƒν™©μ΄ μ¬ μλ„ μλ‹¤.

```kotlin
open class Heater {
  fun heat(temperature: Int) = 
    "heating to $temperature"
}

fun warm(heater: Heater) {
  heater.heat(70)
}
```

λ§μ•½ μ„μ μ½”λ“μ—μ„ `λƒ‰λ°© κΈ°λ¥`μ΄ ν•„μ”ν•λ‹¤λ©΄, `μƒμ†`μ„ ν†µν•΄ `ν΄λμ¤λ¥Ό ν™•μ¥`ν•λ©΄ λλ‹¤.

```kotlin
class HVAC : Heater() {
  fun cool(temperature: Int) = 
    "cooling to $temperature"
}

fun warmAndCool(hvac: HVAC) {
  hvac.heat(70)
  hvac.cool(60)
}
```

- `λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™(LSP)`μ— μν•΄, `HVAC`μ— λ€ν•΄μ„λ„ `warm()` ν•¨μλ” μ—¬μ „ν `μ‘λ™`ν•λ‹¤.
- `κΈ°λ° ν΄λμ¤ νƒ€μ…μ μ°Έμ΅°`λ¥Ό ν†µν•΄μ„λ§ `νμƒ ν΄λμ¤ μΈμ¤ν„΄μ¤`μ— μ ‘κ·Όν•λ‹¤λ©΄, νμƒ ν΄λμ¤μ— μ¶”κ°€λ ν•¨μλ¥Ό νΈμ¶ν•  λ°©λ²•μ€ μ—†μΌλ―€λ΅ `μ“Έλ°μ—†μ΄ ν•¨μλ¥Ό μ¶”κ°€ν• μ…`μ΄ λ  μ μμ–΄ `μ£Όμ`ν•΄μ•Ό ν•λ‹¤.

`Heater ν΄λμ¤`μ μ†μ¤μ½”λ“κ°€ λ³€κ²½ κ°€λ¥ν•λ‹¤λ©΄, `μƒμ†`μ„ ν•μ§€ μ•κ³  μ•„λμ™€ κ°™μ€ μ„¤κ³„λ¥Ό ν†µν•΄ ν΄λμ¤λ¥Ό μ μ—°ν•κ² λ§λ“¤ μ μλ‹¤.

```kotlin
class TemperatureDelta(
  val current: Double,
  val target: Double
)

fun TemperatureDelta.heat() {
  if (current < target)
    trace("heating to $target")
}

fun TemperatureDelta.cool() {
  if (current > target) 
    trace("cooling to $target")
}

fun adjust(deltaT: TemperatureDelta) {
  deltaT.heat()
  deltaT.cool()
}
```

`μ†μ¤ μ½”λ“`λ¥Ό λ³€κ²½ν•  μ μ—†λ” κ²½μ°μ—λ” `ν™•μ¥ ν•¨μ`λ¥Ό `μ‚¬μ©`ν•΄ μƒμ†μ„ μ‚¬μ©ν•μ§€ μ•κ³  `κΈ°λ° ν΄λμ¤`μ μΈμ¤ν„΄μ¤λ¥Ό μ§μ ‘ `ν™•μ¥`ν•  μ μλ‹¤.

```kotlin
fun Heater.cool(temperature: Int) = 
  "cooling to $temperature"

fun warmAndCool(heater: Heater) {
  heater.heat(70)
  heater.cool(60)
}
```

- `Kotlin` μ—μ„λ” `ν•„μμ μΈ λ©”μ„λ“`λ§ `μ •μ`ν•΄ `ν¬ν•¨`ν•λ” κ°„λ‹¨ν• `μΈν„°νμ΄μ¤`λ¥Ό λ§λ“¤κ³ , `λ¨λ“  λ¶€κ°€ ν•¨μ`λ¥Ό `ν™•μ¥`μΌλ΅ μ •μν•λΌλΌλ” `μ² ν•™`μ΄ μλ‹¤.

`ν™•μ¥ ν•¨μ` λ€μ‹  `λ©¤λ²„ ν•¨μ`λ¥Ό μ¨μ•Όν•λ” κ²½μ°λ„ μ΅΄μ¬ν•λ‹¤.

ν•¨μκ°€ `private λ©¤λ²„`μ— μ ‘κ·Όν•΄μ•Ό ν•λ‹¤λ©΄, `λ©¤λ²„ ν•¨μ`λ¥Ό μ •μν•λ” λ°©λ²• λ°–μ— μ—†λ‹¤.

```kotlin
class Z(var i: Int = 0) {
  private var j = 0
  fun increment() {
    i++
    j++
  }
}

fun Z.decrement() {
  i--

// error -> ν™•μ¥ ν•¨μλ” private λ©¤λ²„μ— μ ‘κ·Όν•  μ μ—†λ‹¤. 
//  j--
}
```

`ν™•μ¥ ν•¨μ`λ” `μ¤λ²„λΌμ΄λ“` ν•  μ μ—†λ‹¤λ” ν•κ³„λ„ μλ‹¤.

```kotlin
open class Base {
  open fun f() = "Base.f()"
}

class Derived : Base() {
  override fun f() = "Derived.f()"
}

fun Base.g() = "Base.g()"
fun Derived.g() = "Derived.g()"
```

- `ν•¨μ`λ¥Ό `μ¤λ²„λΌμ΄λ“`ν•  ν•„μ”κ°€ μ—†κ³  ν΄λμ¤μ `κ³µκ° λ©¤λ²„`λ§μΌλ΅ μ¶©λ¶„ν•λ‹¤λ©΄ `λ©¤λ²„ ν•¨μ`λ΅ κµ¬ν„ν•  μ μκ³ , λλ” ν™•μ¥ ν•¨μλ΅ κµ¬ν„ν•  μλ„ μλ‹¤.
- `λ©¤λ²„ ν•¨μ`λ” `νƒ€μ…μ ν•µμ‹¬`μ„ λ°μν•λ‹¤.
    - `ν™•μ¥ ν•¨μ`λ” νƒ€μ…μ μ΅΄μ¬μ— `ν•„μμ μ΄μ§€λ” μ•μ€`, λ€μƒ νƒ€μ…μ„ `μ§€μ›`ν•κ³  `ν™μ©`ν•κΈ° μ„ν• `μ™Έλ¶€ μ—°μ‚°`μ΄λ‚ νΈλ¦¬λ¥Ό μ„ν• μ—°μ‚°μ„ μ„ν•΄ μ •μλλ‹¤.

```kotlin
interface Device {
  val model: String
  val productionYear: Int
}

fun Device.overpriced() = model.startsWith("i")

fun Device.outdated() = productionYear < 2050
```

- `Device μΈν„°νμ΄μ¤`μ λ³Έμ§μ„ μ΄λ£¨λ” κ²ƒμ€ `model`κ³Ό `productionYear` ν”„λ΅νΌν‹°μ΄λ‹¤.
- `overpriced()`μ™€ `outdated()` κ°™μ€ ν•¨μλ” `ν™•μ¥ ν•¨μ`λ‚ `λ©¤λ²„ ν•¨μ`λ΅ μ •μλ  μ μλ‹¤.
    - `μ¤λ²„λΌμ΄λ“` λ  κ°€λ¥μ„±μ΄ μ—†λ‹¤λ©΄ `ν™•μ¥ ν•¨μ`λ΅ μ •μν•λ” κ²ƒμ΄ μΆ‹λ‹¤.
    - `ν™•μ¥ ν•¨μ`λ΅ λ§λ“¤μ§€ `λ©¤λ²„ ν•¨μ`λ΅ λ§λ“¤μ§€λ” κ¶κ·Ήμ μΌλ΅ `μ„¤κ³„μƒμ μ„ νƒ`μ΄λΌκ³  λ³Έλ‹¤.

## π¤—Β ν΄λμ¤ μ„μ„

- ν΄λμ¤κ°€ `κΈ°μ΅΄μ κµ¬ν„`μ„ `μ¬μ‚¬μ©`ν•λ©΄μ„ λ™μ‹μ— μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•΄μ•Ό ν•λ” κ²½μ°, `μƒμ†`κ³Ό `ν΄λμ¤ μ„μ„`μ΄λΌλ” λ‘ κ°€μ§€ μ„ νƒμ§€κ°€ μλ‹¤.
- `ν΄λμ¤ μ„μ„`μ€ `μƒμ†`κ³Ό `ν•©μ„±`μ `μ¤‘κ°„ μ§€μ `μ΄λ‹¤.
    - μƒ ν΄λμ¤ μ•μ— `λ©¤λ²„ κ°μ²΄`λ¥Ό μ‹¬κ³ , μƒμ†κ³Ό λ§μ°¬κ°€μ§€λ΅ μ‹¬κ²¨μ§„ `ν•μ„ κ°μ²΄`μ `μΈν„°νμ΄μ¤`λ¥Ό `λ…Έμ¶`μ‹ν‚¨λ‹¤.
    - μƒ ν΄λμ¤λ¥Ό `ν•μ„ κ°μ²΄`μ νƒ€μ…μΌλ΅ `μ—…μΊμ¤νΈ` ν•  μ μλ‹¤.
    

```kotlin
interface Controls {
  fun up(velocity: Int): String
  fun down(velocity: Int): String
}

class SpaceShipControls : Controls {
  override fun up(velocity: Int) = 
    "up $velocity"
  
  override fun down(velocity: Int) = 
    "down $velocity"
}
```

`SpaceShipControls`μ μ μ–΄ μ¥μΉμ κΈ°λ¥μ„ ν™•μ¥ν•κ±°λ‚ λ…λ Ήμ„ μΌλ¶€ μ΅°μ •ν•κ³  μ‹¶μ€λ° μ΄ ν΄λμ¤λ” `open`μ΄ μ•„λ‹λΌμ„ `μƒμ†`μ΄ `λ¶κ°€λ¥`ν•λ‹¤.

`Controls`μ `λ©¤λ²„ ν•¨μ`λ¥Ό λ…Έμ¶ν•κΈ° μ„ν•΄μ„λ”, `SpaceShipControls`μ μΈμ¤ν„΄μ¤λ¥Ό ν”„λ΅νΌν‹°λ΅ ν•κ³ , `Controls`μ λ¨λ“  λ©¤λ²„ ν•¨μλ¥Ό λ…μ‹μ μΌλ΅ `SpaceShipControls`μ— `μ„μ„`ν•΄μ•Ό ν•λ‹¤.

```kotlin
class ExplicitControls: Controls {
  private val controls = SpaceShipControls()
  
  // μλ™μΌλ΅ μ„μ„ κµ¬ν„
  override fun up(velocity: Int) = 
    controls.up(velocity)
  

  override fun down(velocity: Int) = 
    // λ³€ν•ν• κµ¬ν„
    controls.down(velocity) + "down!!!"
}
```

`μ–Έμ–΄ μ°¨μ›`μ—μ„μ `μ§€μ›`μ΄ μ—†λ‹¤λ©΄, μ„μ™€ κ°™μ΄ `μλ™`μΌλ΅ μ„μ„μ„ μ„ν• `μ½”λ“λ¥Ό μ‘μ„±`ν•΄μ•Ό ν•μ§€λ§, `Kotlin`μ€ μ„μ„ κ³Όμ •μ„ `μλ™ν™”`ν•΄μ£Όλ” `κΈ°λ¥`μ„ `μ κ³µ`ν•λ‹¤.

```kotlin
interface AI
class A : AI

// ν΄λμ¤ Bλ” AI μΈν„°νμ΄μ¤λ¥Ό a λ©¤λ²„ κ°μ²΄λ¥Ό μ‚¬μ©ν•΄(by) κµ¬ν„ν•λ‹¤.
class B(val a: A) : AI by a
```

- `μΈν„°νμ΄μ¤`μ—λ§ μ„μ„μ„ μ μ©ν•  μ μλ‹¤.
- `μ„μ„ κ°μ²΄`λ” `μƒμ„±μ μΈμ`λ΅ μ§€μ •ν• `ν”„λ΅νΌν‹°`μ—¬μ•Ό ν•λ‹¤.

```kotlin
class DelegatedControls(
  private val controls: SpaceShipControls = 
    SpaceShipControls()
): Controls by controls {
  override fun turboBoost(): String = 
    "${controls.turboBoost()}... boooooost!"
}
```

- `μ„μ„`μ„ ν•λ©΄ λ³„λ„λ΅ μ½”λ“λ¥Ό μ‘μ„±ν•μ§€ μ•μ•„λ„, `λ©¤λ²„ κ°μ²΄`μ ν•¨μλ¥Ό `μ™Έλ¶€ κ°μ²΄`λ¥Ό ν†µν•΄ `μ ‘κ·Ό`ν•  μ μλ‹¤.

`Kotlin`μ€ `λ‹¤μ¤‘ ν΄λμ¤ μƒμ†`μ„ ν—μ©ν•μ§€ μ•μ§€λ§, ν΄λμ¤ μ„μ„μ„ μ‚¬μ©ν•΄ `λ‹¤μ¤‘ ν΄λμ¤ μƒμ†`μ„ `ν‰λ‚΄`λ‚Ό μ μλ‹¤.

```kotlin
interface Rectangle {
  fun paint(): String
}

class ButtonImage(
  val width: Int,
  val height: Int
): Rectangle {
  override fun paint() = 
    "painting ButtonImage($width, $height)"
}

interface MouseManager {
  fun clicked(): Boolean
  fun hovering(): Boolean
}

class UserInput : MouseManager {
  override fun clicked() = true
  override fun hovering() = true
}

// μ•μ λ‘ ν΄λμ¤κ°€ openμΌλ΅ μ •μλμ—μ–΄λ„, λ‹¤μ¤‘ μƒμ†μ€ ν—μ©λμ§€ μ•λ”λ‹¤.
// class Button : ButtonImage(), UserInput()

class Button(
  val width: Int,
  val height: Int,
  var image: Rectangle = ButtonImage(width, height),
  private var input: MouseManager = UserInput()
): Rectangle by image, MouseManager by input

fun main() {
  val button = Button(10, 5)
  // Rectangle νƒ€μ…μ paint() ν•¨μ νΈμ¶μ΄ κ°€λ¥ν•λ‹¤.
  button.paint()
  
  // MouseManager νƒ€μ…μ clicked()μ™€ hovering() ν•¨μ νΈμ¶μ΄ κ°€λ¥ν•λ‹¤.
  button.clicked()
  button.hovering()

  // μ„μ„ν• λ‘ νƒ€μ…μΌλ΅ μ—…μΊμ¤νΈκ°€ λ¨λ‘ κ°€λ¥ν•λ‹¤.
  val rectangle: Rectangle = button
  val mouseManager: MouseManager = button
}
```

- `Button` ν΄λμ¤λ” `ButtonImage`μ™€ `UserInput` κµ¬ν„μ„ `λ¨λ‘ μƒμ†`ν•  μλ” μ—†μ§€λ§, `μ„μ„`ν•  μ μλ‹¤.
    - `μ„μ„`μ€ `λ‹¤μ¤‘ μƒμ†`μ ν•„μ”μ„±μ„ ν•΄κ²°ν•΄μ¤€λ‹¤.
    - `μƒμ„ ν΄λμ¤`κ°€ `open`μ΄ μ•„λ‹κ±°λ‚, μƒ ν΄λμ¤κ°€ λ‹¤λ¥Έ ν΄λμ¤λ¥Ό μ΄λ―Έ μƒμ†ν•κ³  μλ” κ²½μ°μ— `ν΄λμ¤ μ„μ„`μ€ `μΆ‹μ€ ν•΄κ²°μ±…`μ΄ λ  μ μλ‹¤.
- `ν΄λμ¤ μ„μ„`μ€ `ν•©μ„±`, `μƒμ†`, `ν΄λμ¤ μ„μ„` μ¤‘μ— κ°€μ¥ λ§μ§€λ§‰μ— μ‹λ„λμ–΄μ•Ό ν•λ‹¤.
    - `ν•©μ„±`μ€ κ°€μ¥ λ‹¨μν• λ°©λ²•μΌλ΅, λ€λ¶€λ¶„μ `μ μ¤μΌ€μ΄μ¤ ν•΄κ²°`μ΄ κ°€λ¥ν•λ‹¤.
    - `μƒμ†`μ€ `νƒ€μ… κ³„μΈµ`κ³Ό μ΄ `κ³„μΈµμ— μ†ν• νƒ€μ… μ‚¬μ΄μ κ΄€κ³„`κ°€ ν•„μ”ν• κ²½μ° μƒμ†μ΄ ν•„μ”ν•λ‹¤.
    - μ„μ `λ‘ κ°€μ§€ μ„ νƒ`μ΄ λ¨λ‘ μ ν•©ν•μ§€ μ•λ‹¤λ©΄, `μ„μ„`μ„ μ‚¬μ©ν•  μ μλ‹¤.
